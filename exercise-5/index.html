
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Observability Â· Istio on ROKS</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fancybox/jquery.fancybox.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fancybox/jquery.fancybox-buttons.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-web-header/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-codetabs/codetabs.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../exercise-6/" />
    
    
    <link rel="prev" href="../exercise-4/" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Workshop setup</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../exercise-1/">
            
                <a href="../exercise-1/">
            
                    
                        <b>2.1.</b>
                    
                    Access your cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../exercise-2/">
            
                <a href="../exercise-2/">
            
                    
                        <b>2.2.</b>
                    
                    Installing Service Mesh
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Deploy Sample</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../exercise-3/">
            
                <a href="../exercise-3/">
            
                    
                        <b>3.1.</b>
                    
                    Deploy BookInfo app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../exercise-4/">
            
                <a href="../exercise-4/">
            
                    
                        <b>3.2.</b>
                    
                    Expose the app using Ingress
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Use Istio</li>
        
        
    
        <li class="chapter active" data-level="4.1" data-path="./">
            
                <a href="./">
            
                    
                        <b>4.1.</b>
                    
                    Observability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../exercise-6/">
            
                <a href="../exercise-6/">
            
                    
                        <b>4.2.</b>
                    
                    Perform traffic management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../exercise-7/">
            
                <a href="../exercise-7/">
            
                    
                        <b>4.3.</b>
                    
                    Secure your mesh
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Observability</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="exercise-5---observe-service-telemetry-metrics-and-tracing">Exercise 5 - Observe service telemetry: metrics and tracing</h1>
<h3 id="challenges-with-microservices">Challenges with microservices</h3>
<p>We all know that microservice architecture is the perfect fit for cloud native applications and it increases the delivery velocities greatly. Envision you have many microservices that are delivered by multiple teams, how do you observe the the overall platform and each of the service to find out exactly what is going on with each of the services?  When something goes wrong, how do you know which service or which communication among the few services are causing the problem?</p>
<h3 id="istio-telemetry">Istio telemetry</h3>
<p>Istio&apos;s tracing and metrics features are designed to provide broad and granular insight into the health of all services. Istio&apos;s role as a service mesh makes it the ideal data source for observability information, particularly in a microservices environment. As requests pass through multiple services, identifying performance bottlenecks becomes increasingly difficult using traditional debugging techniques. Distributed tracing provides a holistic view of requests transiting through multiple services, allowing for immediate identification of latency issues. With Istio, distributed tracing comes by default. This will expose latency, retry, and failure information for each hop in a request.</p>
<p>You can read more about how <a href="https://istio.io/docs/concepts/policy-and-control/mixer.html" target="_blank">Istio mixer enables telemetry reporting</a>.</p>
<p>Generate a small load to the app by sending traffic to the Ingress host location you set in the last exercise.</p>
<pre><code class="lang-shell">for i in {1..20}; do sleep 0.5; curl -I $INGRESS_HOST/productpage; done
</code></pre>
<h2 id="view-bookinfo-telemetry-data">View bookinfo telemetry data</h2>
<h4 id="grafana">Grafana</h4>
<ol>
<li>In the <strong>OpenShift web console</strong>, under <strong>Networking</strong> -&gt; <strong>Routes</strong>, click the URL next to <strong>grafana</strong></li>
<li>Click on Home -&gt; Istio -&gt; Istio Service Dashboard.</li>
<li>Select <code>bookinfo</code> in the Service drop down.</li>
</ol>
<p>     <a href="../README_images/bookinfo-grafana.png" rel="grouped" title="" target="_self" class="fancybox">
       <img src="../README_images/bookinfo-grafana.png" alt="">
     </a></p>
<p>This Grafana dashboard provides metrics for each workload. Explore the other dashboards provided as well.</p>
<h4 id="kiali">Kiali</h4>
<p>Kiali is an open-source project that installs as an add-on on top of Istio to visualize your service mesh. It provides deeper insight into how your microservices interact with one another, and provides features such as circuit breakers and request rates for your services.</p>
<ol>
<li>From the <strong>OpenShift web console</strong>, under <strong>Networking</strong> -&gt; <strong>Routes</strong>, select the URL next to <strong>kiali</strong></li>
<li>Click the &quot;Graph&quot; tab on the left side and select the <code>bookinfo</code> and <code>istio-system</code> namespace to see the a visual service graph of the various services in your Istio mesh. </li>
<li>You can see request rates as well by clicking the &quot;Edge Labels&quot; tab and choosing &quot;Traffic rate per second&quot;.</li>
<li>In a different tab, visit the BookInfo application and refresh the page multiple times to generate some load, or run the load script in the previous section.</li>
</ol>
<p>Kiali has a number of views to help you visualize your services. Click through the various tabs to explore the service graph, and the various views for workloads, applications and services.</p>
<p>     <a href="../README_images/bookinfo-kiali.png" rel="grouped" title="" target="_self" class="fancybox">
       <img src="../README_images/bookinfo-kiali.png" alt="">
     </a> </p>
<h4 id="continue-to-the-next-exercise"><a href="../exercise-6/">Continue to the next Exercise</a></h4>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../exercise-4/" class="navigation navigation-prev " aria-label="Previous page: Expose the app using Ingress">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../exercise-6/" class="navigation navigation-next " aria-label="Next page: Perform traffic management">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Observability","level":"4.1","depth":1,"next":{"title":"Perform traffic management","level":"4.2","depth":1,"path":"exercise-6/README.md","ref":"exercise-6/README.md","articles":[]},"previous":{"title":"Expose the app using Ingress","level":"3.2","depth":1,"path":"exercise-4/README.md","ref":"exercise-4/README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["collapsible-chapters","hints","copy-code-button","back-to-top-button","fancybox","web-header","codetabs"],"root":"workshop","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"webheader":{"headerTitle":"Istio on ROKS"},"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"fancybox":{"helpers":{"buttons":{}},"openEffect":"elastic","closeEffect":"elastic"},"web-header":{},"search":{},"collapsible-chapters":{},"codetabs":{},"hints":{"danger":"fa fa-exclamation-circle","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"copy-code-button":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Istio on ROKS","gitbook":"3.2.3"},"file":{"path":"exercise-5/README.md","mtime":"2020-06-08T14:37:36.077Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-06-08T14:38:58.650Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fancybox/jquery.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fancybox/jquery.mousewheel.pack.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fancybox/jquery.fancybox.pack.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fancybox/jquery.fancybox-buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fancybox/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-web-header/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-codetabs/codetabs.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

